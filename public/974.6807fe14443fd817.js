"use strict";(self.webpackChunkdaily_front=self.webpackChunkdaily_front||[]).push([[974],{2856:(E,v,c)=>{c.d(v,{y:()=>k});var t=c(1223),r=c(2382),h=c(1135),_=c(108),a=c(7194);class s{constructor(o,e,n){this.title=o,this.body=e,this.actions=n}}class p{constructor(o,e,n){this.id=o,this.title=e,this.color=n}}var f=c(9808),b=c(5817),x=c(1779);function g(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",5),t.NdJ("click",function(){const d=t.CHM(e).$implicit;return t.oxw().click(d.id)}),t._uU(1),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("color",e.color),t.xp6(1),t.hij(" ",e.title," ")}}let T=(()=>{class i{constructor(){this.initialData=new s("Title","This is the description description description description description description description description",[new p("id","Title button","#e17055")]),this.data=this.initialData,this.clickEvent=new t.vpe}ngOnInit(){}click(e){this.clickEvent.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["util-modal"]],inputs:{data:"data"},outputs:{clickEvent:"clickEvent"},decls:7,vars:3,consts:[[1,"modal"],[1,"body"],[1,"title"],[1,"description"],["class","btn",3,"color","click",4,"ngFor","ngForOf"],[1,"btn",3,"color","click"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"h3",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA(),t.YNc(6,g,2,2,"button",4),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(n.data.title),t.xp6(2),t.Oqu(n.data.body),t.xp6(1),t.Q6J("ngForOf",n.data.actions))},directives:[f.sg,x.Q],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:0;right:0;display:flex;align-items:center;justify-content:center;width:100vw;height:100vh;z-index:9999;background-color:#3535356e}.body[_ngcontent-%COMP%]{max-width:var(--max-with-routine-view);padding:1em;border-radius:4px;background-color:#f0f8ff;box-shadow:0 0 10px 2px #0000004d}.title[_ngcontent-%COMP%]{margin:0}.description[_ngcontent-%COMP%]{font-size:.9em;line-height:1.5em}.btn[_ngcontent-%COMP%]{width:max-content;max-width:300px;padding:.5em;margin:10px;cursor:pointer;border-radius:4px;border:2px solid transparent;transition:border-color .4s ease-in-out;font-size:.9em}.btn[_ngcontent-%COMP%]:hover{border-color:#1e1e1e99}"]}),i})();function Z(i,o){1&i&&(t.TgZ(0,"div",16),t._uU(1," The icon is required and must be max 5 characters. "),t.qZA())}function M(i,o){1&i&&(t.TgZ(0,"div",16),t._uU(1," The icon is required and must be between 3 and 25 characters. "),t.qZA())}function w(i,o){1&i&&(t.TgZ(0,"div",16),t._uU(1," The duration must be between 5 and 1440 minutes. "),t.qZA())}function C(i,o){1&i&&t._UZ(0,"div")}function A(i,o){if(1&i){const e=t.EpF();t._UZ(0,"button",17,18),t.TgZ(2,"util-btn",19),t.NdJ("clickEvent",function(){return t.CHM(e),t.MAs(1).click()}),t.qZA(),t.TgZ(3,"util-btn",20),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().cancelOperation()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("color",e.btnSaveColor),t.xp6(1),t.Q6J("color",e.btnCancelColor)}}function I(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"util-btn",21),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().editActivity()}),t.qZA(),t.TgZ(1,"util-btn",22),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().toggleModal()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("color",e.btnEditColor),t.xp6(1),t.Q6J("color",e.btnDeleteColor)}}function O(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"util-btn",23),t.NdJ("clickEvent",function(){return t.CHM(e),t.oxw().closeView()}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("color",e.btnCloseColor)}}function D(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"util-modal",24),t.NdJ("clickEvent",function(l){return t.CHM(e),t.oxw().clickModal(l)}),t.qZA()}if(2&i){const e=t.oxw();t.Q6J("data",e.deleteModalData)}}let k=(()=>{class i{constructor(e){this.fb=e,this.deleteModalData=new s("Delete Activity","Are you sure of delete ** activity?",[new p(a.e.VIEW,"No, cancel","#b2bec3"),new p(a.e.DELETE,"Yes, delete","#e17055")]),this.btnEditColor="#74b9ff",this.btnDeleteColor="#ff7675",this.btnSaveColor="#00b894",this.btnCancelColor="#fdcb6e",this.btnCloseColor="#ffeaa7",this.deleteEvent=new t.vpe,this.updateEvent=new t.vpe,this.addEvent=new t.vpe,this.closeEvent=new t.vpe,this.actionControl=new h.X(a.e.VIEW),this.currentAction=a.e.VIEW,this.activityForm=this.fb.group({id:[""],icon:["",[r.kI.required,r.kI.maxLength(5)]],title:["",[r.kI.required,r.kI.minLength(3),r.kI.maxLength(25)]],startTime:["00:00",r.kI.required],durationTime:[5,[r.kI.min(5),r.kI.max(1440)]]})}set activity(e){void 0!==e&&(this._activity=e,this.evalData(e))}ngOnInit(){this.actionControl.subscribe(e=>{this.currentAction=e})}evalData(e){this.setData(e),""===e.id&&this.actionControl.next(a.e.NEW)}setData(e){this.activityForm.patchValue({id:e.id,icon:e.icon,title:e.title,startTime:e.startTime,durationTime:e.durationTime})}get isValidFormData(){return!this.activityForm.invalid||(this.activityForm.markAllAsTouched(),!1)}saveChanges(){if(!this.isValidFormData)return;const{id:e,icon:n,title:l,startTime:d,durationTime:u}=this.activityForm.value,m=new _.c(e,n,l,d,u);this.currentAction===a.e.EDIT&&this.updateEvent.emit(m),this.currentAction===a.e.NEW&&this.addEvent.emit(m),this.actionControl.next(a.e.VIEW)}cancelOperation(){this.currentAction===a.e.EDIT&&void 0!==this._activity&&(this.setData(this._activity),this.actionControl.next(a.e.VIEW)),this.currentAction===a.e.NEW&&this.closeView()}editActivity(){this.actionControl.next(a.e.EDIT)}deleteActivity(){var e;this.deleteEvent.emit(null===(e=this._activity)||void 0===e?void 0:e.id),this.closeView()}toggleModal(){var e,n;this.deleteModalData.body=this.deleteModalData.body.replace("**",`'${null!==(n=null===(e=this._activity)||void 0===e?void 0:e.title)&&void 0!==n?n:""}'`),this.actionControl.next(a.e.DELETE)}clickModal(e){e===a.e.DELETE&&(this.deleteActivity(),this.closeView()),e===a.e.VIEW&&this.actionControl.next(a.e.VIEW)}closeView(){this.closeEvent.emit(!0)}ngOnDestroy(){this.actionControl.unsubscribe()}get isActionView(){return this.currentAction===a.e.VIEW}get isActionDelete(){return this.currentAction===a.e.DELETE}isValid(e){return null!=this.activityForm.controls[e].errors&&this.activityForm.controls[e].touched}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(r.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-activity"]],inputs:{activity:"activity"},outputs:{deleteEvent:"deleteEvent",updateEvent:"updateEvent",addEvent:"addEvent",closeEvent:"closeEvent"},decls:26,vars:13,consts:[["autocomplete","off",1,"form",3,"formGroup","ngSubmit"],["for","icon",1,"form__label"],["id","icon","type","text","placeholder","\u{1f642}","formControlName","icon",3,"readonly"],["class","invalid__feedback",4,"ngIf"],["for","title",1,"form__label"],["id","title","type","text","formControlName","title","placeholder","breakfast...",3,"readonly"],["for","start",1,"form__label"],["id","start","type","time","formControlName","startTime",3,"readonly"],["for","duration",1,"form__label"],["id","duration","type","number","formControlName","durationTime","min","5","max","1440",3,"readonly"],[1,"form__actions"],[4,"ngIf","ngIfThen","ngIfElse"],["newAndEdit",""],["view",""],["title","Close",3,"color","clickEvent",4,"ngIf"],[3,"data","clickEvent",4,"ngIf"],[1,"invalid__feedback"],["type","submit","hidden",""],["submit",""],["title","Save",3,"color","clickEvent"],["title","Cancel",3,"color","clickEvent"],["title","Edit",3,"color","clickEvent"],["title","Delete",3,"color","clickEvent"],["title","Close",3,"color","clickEvent"],[3,"data","clickEvent"]],template:function(e,n){if(1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return n.saveChanges()}),t.TgZ(1,"label",1),t._uU(2,"Icon"),t.qZA(),t._UZ(3,"input",2),t.YNc(4,Z,2,0,"div",3),t.TgZ(5,"label",4),t._uU(6,"Title"),t.qZA(),t._UZ(7,"input",5),t.YNc(8,M,2,0,"div",3),t.TgZ(9,"label",6),t._uU(10,"Start hour"),t.qZA(),t._UZ(11,"input",7),t.TgZ(12,"label",8),t._uU(13,"Duration (mins)"),t.qZA(),t._UZ(14,"input",9),t.YNc(15,w,2,0,"div",3),t.TgZ(16,"div",10),t.YNc(17,C,1,0,"div",11),t.YNc(18,A,4,2,"ng-template",null,12,t.W1O),t.YNc(20,I,2,2,"ng-template",null,13,t.W1O),t.qZA(),t.qZA(),t._UZ(22,"br"),t._UZ(23,"br"),t.YNc(24,O,1,1,"util-btn",14),t.YNc(25,D,1,1,"util-modal",15)),2&e){const l=t.MAs(19),d=t.MAs(21);t.Q6J("formGroup",n.activityForm),t.xp6(3),t.Q6J("readonly",n.isActionView),t.xp6(1),t.Q6J("ngIf",n.isValid("icon")),t.xp6(3),t.Q6J("readonly",n.isActionView),t.xp6(1),t.Q6J("ngIf",n.isValid("title")),t.xp6(3),t.Q6J("readonly",n.isActionView),t.xp6(3),t.Q6J("readonly",n.isActionView),t.xp6(1),t.Q6J("ngIf",n.isValid("durationTime")),t.xp6(2),t.Q6J("ngIf",n.isActionView)("ngIfThen",d)("ngIfElse",l),t.xp6(7),t.Q6J("ngIf",n.isActionView),t.xp6(1),t.Q6J("ngIf",n.isActionDelete)}},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,f.O5,r.wV,r.qQ,r.Fd,b.H,T],encapsulation:2}),i})()},5784:(E,v,c)=>{c.d(v,{N:()=>a});var t=c(9808),r=c(2382),h=c(4603),_=c(1223);let a=(()=>{class s{}return s.\u0275fac=function(f){return new(f||s)},s.\u0275mod=_.oAB({type:s}),s.\u0275inj=_.cJS({imports:[[t.ez,r.UX,h.A]]}),s})()},5700:(E,v,c)=>{c.d(v,{l:()=>k});var t=c(1223),r=c(8421),h=c(8306),_=c(5577),a=c(1144),s=c(576),p=c(3268);const f=["addListener","removeListener"],b=["addEventListener","removeEventListener"],x=["on","off"];function g(i,o,e,n){if((0,s.m)(e)&&(n=e,e=void 0),n)return g(i,o,e).pipe((0,p.Z)(n));const[l,d]=function w(i){return(0,s.m)(i.addEventListener)&&(0,s.m)(i.removeEventListener)}(i)?b.map(u=>m=>i[u](o,m,e)):function Z(i){return(0,s.m)(i.addListener)&&(0,s.m)(i.removeListener)}(i)?f.map(T(i,o)):function M(i){return(0,s.m)(i.on)&&(0,s.m)(i.off)}(i)?x.map(T(i,o)):[];if(!l&&(0,a.z)(i))return(0,_.z)(u=>g(u,o,e))((0,r.Xf)(i));if(!l)throw new TypeError("Invalid event target");return new h.y(u=>{const m=(...y)=>u.next(1<y.length?y:y[0]);return l(m),()=>d(m)})}function T(i,o){return e=>n=>i[e](o,n)}let C=(()=>{class i{calcTime(e){let n=0;for(;e>59;)e-=60,n++;return{hours:n,min:e}}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=c(9808);let I=(()=>{class i{constructor(){this.timeRxjs=/^([0-1][0-9])(:)([0-5][0-9])$/}transform(e){if(!this.timeRxjs.test(e))return"NaN";const n=e.split(":");return`${e} ${Number(n[0])<12?"a. m.":"p. m."}`}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"hour",type:i,pure:!0}),i})(),O=(()=>{class i{constructor(e){this.utilsService=e}transform(e){const n=this.utilsService.calcTime(e);return`${n.hours} h, ${n.min} min`}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C,16))},i.\u0275pipe=t.Yjl({name:"min",type:i,pure:!0}),i})();function D(i,o){if(1&i&&(t.TgZ(0,"li",2),t.TgZ(1,"span",3),t._uU(2),t.qZA(),t.TgZ(3,"p",4),t._uU(4),t.ALo(5,"titlecase"),t.qZA(),t.TgZ(6,"div",5),t.TgZ(7,"p",6),t._uU(8),t.ALo(9,"hour"),t.qZA(),t.TgZ(10,"p",7),t._uU(11),t.ALo(12,"min"),t.qZA(),t.qZA(),t.qZA()),2&i){const e=o.$implicit;t.s9C("id",e.id),t.xp6(2),t.Oqu(e.icon),t.xp6(2),t.Oqu(t.lcZ(5,5,e.title)),t.xp6(4),t.Oqu(t.lcZ(9,7,e.startTime)),t.xp6(3),t.Oqu(t.lcZ(12,9,e.durationTime))}}let k=(()=>{class i{constructor(e){this.utilsService=e,this.routine=[],this.activityId=new t.vpe}ngOnInit(){this.currentTime(this.routine),setInterval(this.currentTime.bind(this,this.routine),1e3)}ngAfterViewInit(){g(document.getElementById("routine"),"click").subscribe(l=>{"UL"!==l.target.nodeName&&this.activityId.emit(l.target.id)})}currentTime(e=[]){const n=new Date,l={date:n,month:n.getMonth(),day:n.getDate(),year:n.getFullYear()},d=e.filter(m=>this.identifyActivity(m,l));if(void 0===d[0])return;const u=document.getElementById(d[0].id);null!=u&&u.classList.add("activity--active")}identifyActivity(e,n){var l;const{date:d,month:u,day:m,year:y}=n,F=null===(l=e.startTime)||void 0===l?void 0:l.split(":"),J=Number(F[0]),N=Number(F[1]),P=this.utilsService.calcTime(e.durationTime+N),L=new Date(y,u,m,J,N,0,0),V=new Date(y,u,m,P.hours+J,P.min,0,0),Q=d.getTime()>L.getTime();return d.getTime()<V.getTime()&&Q}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(C))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-routine"]],inputs:{routine:"routine"},outputs:{activityId:"activityId"},decls:2,vars:1,consts:[["id","routine",1,"routine"],["class","activity",3,"id",4,"ngFor","ngForOf"],[1,"activity",3,"id"],[1,"activity__icon"],[1,"activity__title"],[1,"activity__time"],[1,"activity__start"],[1,"activity__duration"]],template:function(e,n){1&e&&(t.TgZ(0,"ul",0),t.YNc(1,D,13,11,"li",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",n.routine))},directives:[A.sg],pipes:[A.rS,I,O],styles:[".routine[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1em;padding:0;list-style:none}.activity[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;gap:1em;width:80%;min-width:230px;padding:0 1em;box-sizing:border-box;box-shadow:0 0 5px #0003;border-radius:5px;cursor:pointer}.activity[_ngcontent-%COMP%]:hover{box-shadow:0 0 10px 2px #0003}.activity--active[_ngcontent-%COMP%]{width:90%;background-color:var(--active-color)}.activity__icon[_ngcontent-%COMP%], .activity__title[_ngcontent-%COMP%], .activity__time[_ngcontent-%COMP%]{line-height:1.5em;text-decoration:none;pointer-events:none;font-size:var(--font-size-caption);color:var(--black-color)}.activity__start[_ngcontent-%COMP%], .activity__duration[_ngcontent-%COMP%]{font-size:.7em;line-height:1.4em;margin:0}.activity__icon[_ngcontent-%COMP%]{width:3em}.activity__title[_ngcontent-%COMP%]{flex-grow:1;padding:0 .5em}"]}),i})()},7194:(E,v,c)=>{c.d(v,{e:()=>t});var t=(()=>{return(r=t||(t={})).NEW="new",r.VIEW="view",r.EDIT="edit",r.DELETE="delete",t;var r})()},108:(E,v,c)=>{c.d(v,{c:()=>t});class t{constructor(h,_,a,s,p,f){this.id=h,this.icon=_,this.title=a,this.startTime=s,this.durationTime=p,this.user=f}}}}]);